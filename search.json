[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Many Babies 1",
    "section": "",
    "text": "PlotDataDownload\n\n\n\nPlot = import(\"https://esm.sh/@observablehq/plot\")\n\nd = transpose(forest_data)\n\nmaxX = d3.max(forest_data.effects_cih)\npad = 0.1\n\nmethodIndeces = d3.rollup(\n  d,\n  (values) =&gt; ({Method: values[0].Method, order: d3.min(values, (d) =&gt; d.order)}),\n  (d) =&gt; d.Method\n)\n\nmethod_vals = Array.from(methodIndeces.keys()).filter(x =&gt; x)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nviewof methods = Inputs.checkbox(method_vals, {value: method_vals})\n\n\n\n\n\n\n\nmethodLabels = Array.from(methodIndeces.values()).filter(x =&gt; methods.includes(x.Method))\n\nfd = d.filter(d =&gt; !d.Method | methods.includes(d.Method))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPlot.plot({\n  style: {fontFamily: \"Source Sans Pro\"},\n  marginLeft: 130,\n  width: 800,\n  x: {\n    //nice: true,\n    label: \"Effect size\",\n    line: true,\n    labelAnchor: \"center\",\n    domain: [d3.min(forest_data.effects_cil) - pad, d3.max(forest_data.effects_cih) + pad],\n  },\n  y: {\n    grid: true,\n    line: true,\n    label: \"Lab\",\n    //labelAnchor: \"top\",\n    padding: 1,\n    type: \"point\",\n    tickFormat: (value) =&gt; {\n      const correspondingData = fd.find((d) =&gt; d.order === value);\n      return correspondingData ? correspondingData.lab : \"\";\n    },\n  },\n//  color: {\n//    range: [\"lime\", \"maroon\", \"blue\"]\n//  },\n  marks: [\n    // Plot.frame(),\n    Plot.ruleX([0], {stroke: \"lightgrey\", strokeDasharray: [3, 3]}),\n    Plot.ruleY(fd.filter(d =&gt; d.meta), {\n      y: \"order\",\n      stroke: \"lightgrey\"\n    }),\n    Plot.ruleX(fd, Plot.pointerY({x: \"effects\", py: \"order\", stroke: \"Method\"})),\n    Plot.ruleY(fd, Plot.pointerY({px: \"effects\", y: \"order\", stroke: \"lightgrey\"})),\n    Plot.link(fd, {\n      y: \"order\",\n      x1: \"effects_cil\",\n      x2: \"effects_cih\"\n    }),\n    Plot.dot(fd, {\n      x: \"effects\",\n      y: \"order\",\n      fill: \"Method\",\n      symbol: (d) =&gt; (d.meta ? \"diamond\" : \"circle\"),\n      r: \"inverse_vars\",\n    }),\n    Plot.text(methodLabels, {\n      x: maxX + 0.1,\n      y: \"order\",\n      text: \"Method\",\n      fill: \"Method\",\n      stroke: \"white\", // Border color\n      strokeWidth: 12,\n      fontWeight: \"bold\",\n      dy: 6,\n      fontSize: 18,\n      textAnchor: \"end\"\n    }),\n    Plot.tip(fd, Plot.pointerY({\n      x: \"effects\",\n      y: \"order\",\n      stroke: \"Method\",\n      channels: {\n        Lab: \"lab\",\n        \"Effect size\": (d) =&gt; d.effects.toFixed(2),\n        CI: (d) =&gt; `[${d.effects_cil.toFixed(2)}, ${d.effects_cih.toFixed(2)}]`,\n        //Method: \"method\"\n      },\n    })),\n  ]\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe data is hosted as a dataset on Redivis, where you can view and download it. You can also access it programmatically using the Redivis API in R or Python. For example:\n\nRPython\n\n\n\ndataset &lt;- redivis::organization(\"stanford_templates\")$dataset(\"many_babies_1\")\ndf &lt;- dataset$table(\"03_data_trial_main\")$to_tibble()\n\n\n\n\ndataset = redivis.organization('stanford_templates').dataset('many_babies_1')\ndf = dataset.table('03_data_trial_main').to_pandas_dataframe()"
  }
]